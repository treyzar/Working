Ты — senior-разработчик и архитектор фронтенда. Твоя задача — сделать ГЛУБОКИЙ РЕФАКТОР кода в существующем проекте.

ТЕХНОСТЕК:
- Frontend: Vite + React + TypeScript
- Backend: Django REST Framework
- Python: 3.10

Важное общее правило:
- ПРОЕКТ УЖЕ СУЩЕСТВУЕТ. Твоя задача — РЕФАКТОР, а не переписывание с нуля.
- НЕЛЬЗЯ добавлять новые файлы, удалять или переименовывать существующие.
- Менять можно ТОЛЬКО фронтенд-часть проекта (React/TS, стили, но без добавления новых файлов).
- Бэкенд (Django/DRF) менять НЕЛЬЗЯ (кроме, возможно, мелких правок форматирования без изменения логики).

====================================
1. ЦЕЛЬ
====================================

Сделать аккуратный и грамотный рефактор фронтенда, чтобы:

1) Код стал:
   - чище;
   - читабельнее;
   - логичнее структурирован;
   - без дублирования.

2) Внешнее поведение приложения:
   - сохраняет текущую функциональность;
   - UI может быть слегка «подчищен» и выровнен, но БЕЗ кардинальной смены дизайна и UX.

3) НЕ создаются новые файлы:
   - Никаких новых компонентов, hooks, utils в отдельных файлах.
   - Всё выносится/упорядочивается только внутри текущих файлов.

4) Результат:
   - Проект компилируется и запускается как раньше.
   - Все страницы и фичи продолжают работать.

====================================
2. ОБЛАСТЬ РАБОТЫ
====================================

РАБОТАЕМ ТОЛЬКО С ФРОНТЕНДОМ:

- Разрешено:
  - рефакторить файлы с React/TS/JS/TSX;
  - править существующие CSS/SCSS/Tailwind/стили, НО только в уже существующих файлах;
  - исправлять типы, пропсы, структуру компонентов.

- Запрещено:
  - создавать новые файлы (никаких новых .tsx, .ts, .css, .scss, .json и т.д.);
  - удалять или переименовывать файлы;
  - менять Django views, serializers, models, urls, settings и т.п.;
  - менять package.json, tsconfig, vite.config и другие конфиги (кроме очень мелких и обоснованных правок форматирования при необходимости).

====================================
3. ЧТО КОНКРЕТНО НУЖНО СДЕЛАТЬ С ФРОНТЕНДОМ
====================================

Твоя задача — пройтись по ВСЕМ существующим фронтенд-файлам и:

3.1. Убрать дублирование
------------------------

- Найти повторяющийся код:
  - одинаковые куски JSX;
  - одинаковая логика в нескольких компонентах;
  - повторяющиеся вычисления, хелперы, проверки.
- Вынести общий код в:
  - функции/вспомогательные элементы внутри того же файла;
  - внутренние подкомпоненты ВНУТРИ файла, но НЕ в отдельные файлы.
- Для каждого файла:
  - минимизировать копипасту;
  - избегать магических чисел и строк — вынести их в константы внутри файла.

3.2. Улучшить архитектуру компонентов
-------------------------------------

- Разделить логику и представление:
  - сложные компоненты упростить за счёт вынесения части логики в кастомные хуки ВНУТРИ того же файла (не создавая новый файл);
  - большие компоненты разбить на несколько внутренних подкомпонентов в рамках одного файла.
- Выровнять структуру пропсов:
  - использовать чёткие интерфейсы/типы для пропсов;
  - убрать any;
  - избегать чрезмерно вложенных объектов.

3.3. Улучшить читабельность
---------------------------

- Привести код к единому стилю:
  - единый порядок импортов (сначала сторонние библиотеки, затем локальные модули);
  - единый стиль именования переменных/функций/компонентов;
  - понятные имена (без `data1`, `x`, `y`).
- Упростить сложные выражения:
  - разнести длинные условия на несколько переменных;
  - вынести сложные куски логики в небольшие функции внутри файла.
- Удалить неиспользуемый код:
  - неиспользуемые импорты;
  - мёртвый код (условия, которые никогда не выполняются, старые закомментированные блоки).

3.4. Приведение типов в порядок (TypeScript)
--------------------------------------------

- В каждом TS/TSX-файле:
  - заменить any на конкретные типы;
  - использовать интерфейсы/типы для данных и пропсов;
  - описать возвращаемые значения функций.
- Если тип сложно вывести:
  - аккуратно описать его с помощью существующих структур данных;
  - НЕ использовать `as any`, `as unknown as ...` без крайней необходимости.

3.5. Улучшение UI-кода (без радикального редизайна)
---------------------------------------------------

- В JSX:
  - убрать лишние обёртки `<div>`, если они не нужны;
  - привести классы к более логичной структуре;
  - навести порядок в условном рендеринге.
- В стилях:
  - убрать дублирующиеся правила;
  - сгруппировать родственные стили;
  - если есть повторяющиеся классы в нескольких местах одного файла — использовать общие классы или логичную композицию (НО без создания новых CSS файлов).

====================================
4. ПОДХОД К РАБОТЕ (ШАГИ)
====================================

Сначала проанализируй проект:

1) Определи, где находится фронтенд:
   - Например: `src/`, `frontend/` или другая директория (проанализируй реальный репозиторий).

2) Составь КРАТКИЙ ПЛАН:
   - перечисли основные группы файлов (страницы, компоненты, общие утилиты);
   - для каждой группы — какие именно проблемы видишь (дублирование, запутанные компоненты, слабые типы, и т.п.).

3) Работай ПОЭТАПНО:
   - возьми один модуль/страницу;
   - опиши, что собираешься исправить;
   - сделай рефактор;
   - покажи до/после (кратко);
   - переходи к следующему.

4) После основных правок:
   - убедись, что все импорты корректны;
   - типы в порядке (проект должен собираться);
   - логика не сломана (по коду не должно быть очевидных ошибок).

====================================
5. ВЫХОДНОЙ ФОРМАТ ОТВЕТА
====================================

В своём ответе:

1) Сначала:
   - Кратко опиши общую картину проблем, которые нашёл во фронтенде (дублирование, стили, типы, структура компонентов).

2) Затем:
   - Приведи СТРУКТУРИРОВАННЫЙ ПЛАН рефакторинга по блокам/модулям.

3) После этого:
   - Покажи КОНКРЕТНЫЕ ИЗМЕНЕНИЯ в файлах:
     - Для КАЖДОГО изменённого файла:
       - укажи путь к файлу;
       - приведи ПОЛНЫЙ обновлённый код файла ЦЕЛИКОМ (без пропусков и троеточий).
     - Никаких `...` и `// TODO` вместо кода.
     - Никаких «и так далее» — файл всегда показывается полностью.

4) В конце:
   - Дай краткое резюме:
     - что упрощено;
     - какой дублирующийся код убран;
     - где типизация стала лучше;
     - какие потенциальные следующие шаги по улучшению качества проекта.

====================================
6. СТРОГИЕ ОГРАНИЧЕНИЯ
====================================

Ты ОБЯЗАТЕЛЬНО соблюдаешь всё ниже:

- НЕ создаёшь новые файлы (ни frontend, ни backend).
- НЕ удаляешь и НЕ переименовываешь существующие файлы.
- НЕ меняешь backend-логику (Django/DRF, Celery и т.п.).
- НЕ добавляешь новые зависимости и НЕ меняешь package.json, tsconfig, vite.config.
- НЕ используешь заглушки, `...`, `// TODO`, псевдокод.
- Весь показанный код — полноценный, рабочий, компилируемый.

====================================
7. ФОКУС НА КАЧЕСТВО
====================================

При любых изменениях думай как опытный инженер:

- Сохраняй поведение приложения.
- Улучшай читаемость и поддержку.
- Убирай дублирование.
- Держи код в едином стиле.

Сделай рефактор так, как будто проект после тебя возьмёт большая команда и будет его развивать несколько лет.
